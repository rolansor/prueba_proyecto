<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orientaci√≥n r√°pida de s√≠ntomas (demo)</title>
  <style>
    :root{--bg:#0f172a;--card:#111827;--muted:#6b7280;--accent:#22d3ee;--ok:#10b981;--warn:#f59e0b;--err:#ef4444;--txt:#e5e7eb}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;line-height:1.35;background:linear-gradient(180deg,#020617,#0b1022);color:var(--txt);min-height:100dvh;}
    .wrap{max-width:900px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:16px;margin:20px 0 12px}
    header .logo{width:44px;height:44px;border-radius:12px;background:radial-gradient(circle at 30% 30%, var(--accent), transparent 60%),linear-gradient(135deg,#111,#333);display:grid;place-items:center;box-shadow:0 10px 30px rgba(34,211,238,.25)}
    header h1{font-size:clamp(20px,3vw,28px);margin:0}
    .card{background:linear-gradient(180deg,#0b1222,#0a0f1b);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(2,6,23,.45)}
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media (min-width:880px){.grid{grid-template-columns:1.1fr .9fr}}
    fieldset{border:0;margin:0;padding:0}
    legend{font-weight:700;margin-bottom:8px}
    label{display:flex;align-items:center;gap:10px;margin:8px 0}
    input[type="text"], select, textarea{width:100%;background:#0c1323;color:var(--txt);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#1f2937,#111827);color:var(--txt);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px 14px;cursor:pointer}
    .btn:hover{border-color:rgba(255,255,255,.25)}
    .btn.primary{background:linear-gradient(180deg,#0ea5e9,#0284c7);color:#05131f;border:none}
    .muted{color:var(--muted);font-size:14px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#0c1323;border:1px solid rgba(255,255,255,.08);font-size:12px}
    .rec{display:flex;flex-direction:column;gap:10px}
    .rec-item{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;background:#0b1222}
    .rec-item h4{margin:0 0 6px;font-size:16px}
    .proscons{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .proscons ul{margin:0 0 0 18px}
    .badge-ok{color:#052; background:#052a; border:1px solid #0f55}
    .badge-warn{color:#3d2a05; background:#3d2a05aa; border:1px solid #7a520b}
    .disclaimer{font-size:13px;color:#c7cbd6;background:#0a0f1b;border:1px dashed rgba(255,255,255,.15);border-radius:12px;padding:12px}
    footer{margin:20px 0;color:#94a3b8;font-size:13px}
    .qr{display:none;margin-top:8px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo" aria-hidden="true">ü©∫</div>
      <div>
        <h1>Orientaci√≥n r√°pida de s√≠ntomas <span class="pill">DEMO</span></h1>
        <div class="muted">No es diagn√≥stico m√©dico. Para urgencias, acude a un servicio de salud.</div>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <form id="form">
          <fieldset>
            <legend>¬øQu√© presentas hoy?</legend>
            <label><input type="checkbox" name="sym" value="fiebre" /> Fiebre</label>
            <label><input type="checkbox" name="sym" value="dolor_cabeza" /> Dolor de cabeza</label>
            <label><input type="checkbox" name="sym" value="dolor_muscular" /> Dolor muscular / piernas</label>
            <label><input type="checkbox" name="sym" value="tos" /> Tos</label>
            <label><input type="checkbox" name="sym" value="congestion" /> Congesti√≥n nasal</label>
            <label><input type="checkbox" name="sym" value="garganta" /> Dolor de garganta</label>
            <label><input type="checkbox" name="sym" value="nausea" /> N√°useas</label>
          </fieldset>

          <div style="margin-top:12px"></div>
          <label>
            Posible condici√≥n (autorreporte)
            <select id="cond">
              <option value="">‚Äî Selecciona ‚Äî</option>
              <option value="gripe">Gripe / resfriado</option>
              <option value="migra√±a">Migra√±a / cefalea</option>
              <option value="dolor_muscular">Dolor muscular</option>
              <option value="indef">No s√© / prefiero que me orienten</option>
            </select>
          </label>

          <div style="display:flex;gap:10px;margin-top:14px">
            <button class="btn primary" type="submit">Ver sugerencias</button>
            <button class="btn" id="btnReset" type="button">Limpiar</button>
          </div>
        </form>

        <div class="disclaimer" style="margin-top:14px">
          <strong>Aviso de seguridad:</strong> este sitio es educativo y gen√©rico. No reemplaza una evaluaci√≥n cl√≠nica.
          Revisa siempre contraindicaciones y <em>etiquetas</em> de medicamentos. Si hay dolor intenso, dificultad para
          respirar, fiebre alta persistente, rigidez de cuello, confusi√≥n, deshidrataci√≥n o s√≠ntomas en ni√±os peque√±os
          o embarazadas, busca atenci√≥n profesional.
        </div>
      </section>

      <aside class="card">
        <h3 style="margin-top:0">Sugerencias</h3>
        <div id="out" class="rec"></div>

        <details style="margin-top:10px">
          <summary>üí° Activar orientaci√≥n con IA (demo)</summary>
          <p class="muted">Esta secci√≥n puede conectarse a una API de IA de bajo costo. Aqu√≠ simulamos una llamada.</p>
          <button class="btn" id="btnAI" type="button">Consultar IA (simulada)</button>
          <pre id="aiOut" style="white-space:pre-wrap;background:#0c1323;border:1px solid rgba(255,255,255,.08);padding:10px;border-radius:10px;margin-top:8px"></pre>
        </details>

        <details style="margin-top:10px">
          <summary>üîó QR del sitio (se genera al publicar)</summary>
          <div class="muted">Tras publicar tu p√°gina, pegaremos aqu√≠ el QR con la URL final.</div>
          <img id="qrImg" class="qr" alt="QR del sitio" />
        </details>
      </aside>
    </div>

    <footer>
      <div>¬© Demo de orientaci√≥n. √öltima actualizaci√≥n: <span id="last"></span></div>
    </footer>
  </div>

  <script>
    const out = document.getElementById('out');
    const last = document.getElementById('last');
    const aiOut = document.getElementById('aiOut');

    last.textContent = new Date().toLocaleString();

    const CATALOG = {
      gripe: [
        {
          name: 'Paracetamol/Acetaminof√©n (analg√©sico/antipir√©tico)',
          pros: ['Alivia fiebre y dolor general', 'Generalmente bien tolerado a dosis indicadas'],
          cons: ['Evitar sobredosis / duplicar marcas', 'Consultar si hay enfermedad hep√°tica'],
        },
        {
          name: 'Ibuprofeno (AINE)',
          pros: ['√ötil para dolor muscular y fiebre'],
          cons: ['Puede irritar est√≥mago', 'Evitar en √∫lcera activa, insuficiencia renal, embarazo avanzado'],
        },
        {
          name: 'Descongestionante nasal (p. ej., pseudoefedrina o oximetazolina t√≥pica)',
          pros: ['Reduce congesti√≥n por corto tiempo'],
          cons: ['Evitar en hipertensi√≥n no controlada', 'No usar spray >3 d√≠as (rebote)'],
        },
        {
          name: 'Antitusivo suave (p. ej., dextrometorfano) o miel en adultos',
          pros: ['Calma la tos improductiva'],
          cons: ['No combinar con ciertos antigripales', 'No miel en menores de 1 a√±o'],
        },
      ],
      migra√±a: [
        {
          name: 'Paracetamol o AINE (ibuprofeno/naproxeno) al inicio',
          pros: ['M√°s efectivos si se toman al inicio del dolor'],
          cons: ['Revisar est√≥mago, ri√±√≥n y dosis m√°xima diaria'],
        },
        {
          name: 'Hidrataci√≥n + descanso en ambiente oscuro',
          pros: ['Baja estimulaci√≥n y mejora s√≠ntomas acompa√±antes'],
          cons: ['No siempre suficiente en crisis intensas'],
        },
      ],
      dolor_muscular: [
        {
          name: 'Ibuprofeno/naproxeno (AINE) o paracetamol',
          pros: ['Dolor y molestias post-esfuerzo'],
          cons: ['Ajustar a condici√≥n personal; evitar mezclas innecesarias'],
        },
        {
          name: 'Compresas fr√≠as/calientes, reposo relativo',
          pros: ['Apoya recuperaci√≥n sin f√°rmacos'],
          cons: ['Puede requerir d√≠as; evitar sobreesfuerzo'],
        },
      ],
      indef: [
        {
          name: 'Medidas generales',
          pros: ['Hidrataci√≥n, descanso, monitoreo de temperatura'],
          cons: ['Si empeora o dura >48‚Äì72h, buscar evaluaci√≥n'],
        },
      ],
    };

    function render(recs){
      out.innerHTML = '';
      if(!recs || recs.length === 0){ out.innerHTML = '<div class="muted">No hay sugerencias a√∫n. Completa el formulario y presiona "Ver sugerencias".</div>'; return; }
      recs.forEach(r=>{
        const el = document.createElement('div');
        el.className = 'rec-item';
        el.innerHTML = `
          <h4>${r.name}</h4>
          <div class="proscons">
            <div><strong>Pros</strong><ul>${r.pros.map(p=>`<li>${p}</li>`).join('')}</ul></div>
            <div><strong>Contras</strong><ul>${r.cons.map(c=>`<li>${c}</li>`).join('')}</ul></div>
          </div>
          <div class="muted" style="margin-top:8px">Consulta con un profesional si tienes condiciones m√©dicas, tomas otros f√°rmacos, o los s√≠ntomas son intensos.</div>
        `;
        out.appendChild(el);
      })
    }

    document.getElementById('form').addEventListener('submit', (e)=>{
      e.preventDefault();
      const form = e.currentTarget;
      const cond = document.getElementById('cond').value || 'indef';
      const syms = Array.from(form.querySelectorAll('input[name="sym"]:checked')).map(i=>i.value);

      // Reglas simples (ejemplo):
      let key = cond;
      if(cond === 'indef'){
        if(syms.includes('tos') || syms.includes('congestion') || syms.includes('garganta')) key = 'gripe';
        if(syms.includes('dolor_cabeza') && !syms.includes('tos') && !syms.includes('congestion')) key = 'migra√±a';
        if(syms.includes('dolor_muscular') && syms.length === 1) key = 'dolor_muscular';
      }
      render(CATALOG[key]);
    });

    document.getElementById('btnReset').addEventListener('click',()=>{
      document.getElementById('form').reset();
      render([]);
    });

    // IA simulada (aqu√≠ ir√≠a la llamada a una API real de bajo costo)
    document.getElementById('btnAI').addEventListener('click', async ()=>{
      aiOut.textContent = 'Consultando‚Ä¶';
      // Simulaci√≥n de latencia
      await new Promise(r=>setTimeout(r, 400));
      // Demostraci√≥n de combinaci√≥n de s√≠ntomas/condici√≥n
      const cond = document.getElementById('cond').value || 'indef';
      aiOut.textContent = `Orientaci√≥n generada (demo): dada la selecci√≥n "${cond}", considera iniciar con medidas generales (hidrataci√≥n, descanso). Si aparecen signos de alarma (dolor intenso, fiebre alta persistente, dificultad para respirar), busca atenci√≥n m√©dica.`;
    });

    // Utilidad: establecer QR cuando tengamos la URL final (ej.: GitHub Pages)
    // Llama a setupQR('https://tu-dominio.github.io/triage/'); tras publicar
    function setupQR(url){
      const img = document.getElementById('qrImg');
      const api = `https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(url)}`;
      img.src = api; img.classList.remove('qr');
    }
    window.setupQR = setupQR;

    // Inicial
    render([]);
  </script>
</body>
</html>
